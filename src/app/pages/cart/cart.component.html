<div class="flex w-full flex-col h-full p-4 bg-slate-200">
  <div class="text-slate-700">
    <select type="text">
      <option *ngFor="let product of products; let i = index" value="">
        {{ product.make }}
      </option>
    </select>

    <!-- <div class="flex w-full flex-col h-full py-4 bg-slate-200">
      <div class="text-slate-700 flex flex-col">
        <div
          *ngFor="let product of products"
          class="grid grid-cols-3 gap-2 space-y-2"
        >
          <div class="items-start flex pt-6">
            <input type="checkbox" class="" name="isBought" id="" />
          </div>
          <p class="flex items-center pt-3">{{ product.make }}</p>
          <select>
            <option *ngFor="let num of getNumberArray(product.stockAmount)">
              {{ num }}
            </option>
          </select>
        </div>
      </div>
    </div>
  </div> -->
    <div class="flex w-full flex-col h-full py-4 bg-slate-200">
      <div class="text-slate-700 flex flex-col bg-slate-500">
        <div class="grid grid-cols-2 gap-6">
          <p class="ml-4 w-24">Productos a facturar</p>
          <p>Nombre</p>
          <!-- <p *ngIf="isSelected">Cantidad</p> -->
        </div>
        <div
          *ngFor="let product of products"
          [ngClass]="{
            'justify-self-start gap-3': product.isSelected,
            'justify-self-end gap-5': !product.isSelected
          }"
          class="grid grid-cols-3 space-y-2 border-2"
        >
          <div class="border-2 border-black w-20">
            <input
              type="checkbox"
              [ngClass]="{
                'ml-16 delay-300': !product.isSelected,
                'ml-0 delay-300': product.isSelected
              }"
              class="transition duration-700 transform translate-x-[-12px] ml-6 delay-300 w-20 mt-6"
              name="isBought"
              id=""
              [(ngModel)]="product.isSelected"
            />
          </div>
          <div class="flex flex-row">
            <p
              [ngClass]="{
                'justify-self-center ': product.isSelected,
                'justify-self-end ': !product.isSelected
              }"
              class="pt-3 border-2 flex w-16 justify-start border-black"
            >
              {{ product.make }}
            </p>
            <select
              *ngIf="product.isSelected"
              [(ngModel)]="product.quantity"
              class="w-12 outline-none"
            >
              <option *ngFor="let num of getNumberArray(product.stockAmount)">
                {{ num }}
              </option>
            </select>
          </div>
        </div>
      </div>
      <mat-icon fontSize="large" (click)="addProductsToInvoice()">add</mat-icon>
    </div>

    <div
      class="py-4 justify-between px-4 flex flex-row w-full text-slate-200 bg-gray-500 space-x-2"
      pt-2
    >
      <p class="w-24">Factura No.</p>
      <p class="bg-slate-300 rounded-md w-12 text-center h-6">AI</p>
      <p class="bg-slate-300 rounded-md text-center h-6 w-28">00000003400</p>
    </div>
    <div
      class="flex p-4 flex-col h-28 justify-center bg-slate-800 text-slate-200 items-start w-full"
    >
      <p class="">Fecha</p>
      <div class="pt-2">
        <mat-form-field>
          <input
            matInput
            [matDatepicker]="picker"
            placeholder="Choose a date"
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>
    </div>
    <div
      class="p-4 flex flex-row w-full bg-slate-500 space-x-2 text-slate-200 items-center"
    >
      <p class="w-20 flex">Cliente</p>
      <select
        type="select"
        class="bg-slate-600 outline-none flex items-center justify-center rounded-md w-full text-center h-8"
      >
        <option>SAN NICOLAS LOCAL 45</option>
        <option>SAN ANDRESITO LOCAL 4305</option>
        <option>LA PASARELA LOCAL 200</option>
      </select>
      <!-- <p class="bg-slate-300 rounded-md text-center h-6 w-28">00000003400</p> -->
    </div>
    <div
      class="p-4 items-center flex flex-row w-full bg-slate-500 space-x-2 text-slate-200"
    >
      <p class="">Origen Factura</p>
      <select
        type="select"
        class="bg-slate-600 flex outline-none items-center justify-center rounded-md w-full text-center h-8"
      >
        <option>DIRECTA</option>
        <option>INDIRECTA</option>
      </select>
      <input
        text="text"
        class="rounded-md text-center bg-slate-600 outline-none h-8 w-24"
        placeholder=""
      />
    </div>
    <div
      class="py-2 flex flex-row bg-slate-500 w-full text-slate-200 p-4 space-x-2"
    >
      <p class="w-20">Vendedor</p>
      <select
        type="select"
        class="bg-slate-600 flex outline-none items-center justify-center rounded-md w-full text-center h-8"
      >
        <option>CAMILO CASTRILLON</option>
        <option>DANIELA GARCIA</option>
        <option>ALEJANDRA DIAZ</option>
      </select>
    </div>
    <div
      class="p-4 flex h-20 justify-center items-center w-full bg-slate-800 text-slate-200"
    >
      <p class="mr-4">Moneda</p>
      <select
        type="select"
        class="flex items-center bg-slate-500 outline-none justify-center rounded-md w-full text-center h-8"
      >
        <option>PESO</option>
        <option>DOLAR</option>
        <option>EURO</option>
      </select>
    </div>
    <div
      class="items-center p-4 flex flex-row w-full bg-slate-500 space-x-2 text-slate-200"
    >
      <p class="w-20">Tasa de Cambio</p>
      <input
        text="text"
        class="bg-slate-700 outline-none w-full rounded-md text-center h-8"
        placeholder="Tasa de cambio"
      />
    </div>
    <div class="p-4 flex flex-row w-full bg-slate-500 space-x-2 text-slate-200">
      <p class="w-20">Documento Ref.</p>
      <select
        type="select"
        class="flex outline-none bg-slate-600 items-center justify-center rounded-md w-full text-center h-8"
      >
        <option>DOCUMENTO A</option>
        <option>DOCUMENTO B</option>
        <option>DOCUMENTO C</option>
      </select>
      <!-- <p class="bg-slate-300 rounded-md text-center h-6 w-28">00000003400</p> -->
    </div>
    <div
      class="p-4 flex bg-slate-800 space-y-4 flex-col w-full justify-center"
      pt-2
    >
      <div class="flex space-x-4 items-end">
        <p class="w-56">Forma de pago</p>
        <select
          type="select"
          class="outline-none bg-slate-500 flex items-center justify-center rounded-md text-center w-full h-8"
        >
          <option>Credito</option>
          <option>Debito</option>
          <option>Efectivo</option>
          <option>Cheque</option>
        </select>
      </div>
      <div class="flex space-x-4">
        <p class="w-56">Plazo</p>
        <input
          type="number"
          class="w-full outline-none rounded-md text-right pr-4"
          placeholder="0"
        />
      </div>
    </div>
    <div>
      <table class="">
        <thead class="">
          <tr class="">
            <th class="border-y-2 bg-gray-500">Cod</th>
            <th class="border-y-2 bg-gray-500">Nombre</th>
            <th class="border-y-2 bg-gray-500">Valor unitario</th>
            <th class="border-y-2 bg-gray-500">Cantidad</th>
            <th class="border-y-2 bg-gray-500">Valor total</th>
          </tr>
        </thead>
        <tbody class="">
          <tr class="">
            <!-- <td class="border-y-2 bg-gray-500">{{currentInvoice.make}}</td>
          <td class="border-y-2 bg-gray-500">{{product.model}}</td>
          <td class="border-y-2 bg-gray-500">{{product.price}}</td>
          <td class="border-y-2 bg-gray-500">{{product.quantity}}</td>
          <td class="border-y-2 bg-gray-500">4700000</td> -->
          </tr>

          <div ng-container *ngIf="currentInvoice">
            <div *ngFor="let item of currentInvoice.items">
              <tr class="space-x-2">
                <td class="border-y-2 bg-gray-500">{{ item.productId }}</td>
                <td class="border-y-2 bg-gray-500">{{ item.price }}</td>
                <td class="border-y-2 bg-gray-500">{{ item.quantity }}</td>
                <!-- <td class="border-y-2 bg-gray-500">5</td>
                <td class="border-y-2 bg-gray-500">20M</td> -->
              </tr>
            </div>
          </div>

          <!-- <tr *ngFor="let item of items">
          <td>{{ item.codigo }}</td>
          <td>{{ item.nombre }}</td>
          <td>{{ item.valorUnitario }}</td>
          <td>{{ item.cantidad }}</td>
          <td>{{ item.valorTotal }}</td>
        </tr> -->
        </tbody>
      </table>
      <div
        class="flex items-center space-x-2 justify-center bg-slate-800 border-black flex-row h-44"
      >
        <mat-icon fontSize="120px" color="blue">edit</mat-icon>
        <mat-icon fontSize="large" color="primary">delete</mat-icon>
      </div>
    </div>
  </div>
</div>
